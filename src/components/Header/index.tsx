'use client';

import { useRef } from 'react';
import Link from 'next/link';
import { useMenu } from '@/context/MenuContext';
import clsx from 'clsx';
import styles from './index.module.css';
import LocaleSwitch from '../LocaleSwitch';

export default function Header() {
  const { toggleMenu } = useMenu();
  const buttonRef = useRef<HTMLButtonElement>(null);

  function handleClick() {
    toggleMenu();
  }

  return (
    <header className={styles.header}>
      <div className={clsx(styles.container, 'container')}>
        <button className={clsx(styles.menuButton)} ref={buttonRef} onClick={handleClick}>
          Menu
        </button>
        <Link className={styles.logo} aria-label="Home" draggable="false" href="/">
          <svg className={styles.smallLogo} xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 326.5" fill="currentColor">
            <path d="M 65.745 112.786 C 84.607 112.786 96.633 118.314 102.51 129.686 C 103.715 132.018 105.796 133.775 108.296 134.572 C 110.796 135.368 113.511 135.138 115.843 133.934 L 121.997 130.754 C 126.852 128.244 128.754 122.276 126.244 117.42 C 118.853 103.118 102.357 86.068 65.744 86.068 C 23.616 86.068 1.575 110.388 1.575 134.411 C 1.575 168.016 26.779 176.946 51.156 185.584 C 53.163 186.295 55.218 187.023 57.313 187.782 C 60.411 188.902 63.505 189.95 66.552 190.982 C 89.205 198.652 100.092 203.109 100.092 220.465 C 100.092 242.059 76.435 244.391 66.264 244.391 C 36.148 244.391 28.237 230.901 26.203 222.859 C 24.863 217.561 19.48 214.355 14.183 215.693 L 7.469 217.392 C 4.924 218.036 2.74 219.664 1.396 221.918 C 0.052 224.172 -0.342 226.869 0.302 229.413 C 2.083 236.448 6.326 246.675 16.426 255.434 C 28.42 265.835 45.187 271.108 66.263 271.108 C 83.685 271.108 98.541 266.602 109.222 258.079 C 120.728 248.9 126.808 235.894 126.808 220.465 C 126.808 203.933 120.757 190.808 108.824 181.455 C 99.016 173.767 86.867 169.654 75.119 165.676 C 72.236 164.7 69.257 163.691 66.397 162.656 C 64.267 161.886 62.177 161.146 60.076 160.401 C 35.929 151.845 28.29 148.468 28.29 134.411 C 28.293 123.928 41.42 112.786 65.745 112.786 Z"></path>
            <path d="M 299.515 123.98 C 298.201 119.934 294.449 117.183 290.196 117.143 L 174.904 116.071 L 138.258 6.75 C 136.906 2.717 133.128 0 128.875 0 C 124.622 0 120.845 2.717 119.493 6.75 L 95.949 76.985 C 102.982 79.013 109.42 81.847 115.215 85.49 C 116.918 86.561 118.553 87.701 120.133 88.898 L 128.874 62.822 L 153.38 135.926 C 154.72 139.927 158.451 142.636 162.67 142.676 L 239.759 143.392 L 177.806 189.28 C 174.415 191.791 172.99 196.177 174.256 200.201 L 197.402 273.744 L 139.96 232.816 C 138.234 242.101 134.518 250.492 128.914 257.75 L 222.773 324.627 C 224.492 325.851 226.504 326.462 228.516 326.462 C 228.522 326.462 228.527 326.462 228.535 326.462 C 234 326.462 238.431 322.032 238.431 316.567 C 238.431 315.303 238.193 314.092 237.761 312.98 L 203.339 203.614 L 295.993 134.989 C 299.411 132.457 300.829 128.025 299.515 123.98 Z"></path>
          </svg>
        </Link>
        <LocaleSwitch />
      </div>
    </header>
  );
}
